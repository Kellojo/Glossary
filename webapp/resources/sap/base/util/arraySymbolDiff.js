/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/base/util/equal','sap/base/util/hashCode'],function(e,h){"use strict";var a=function(o,n,s){var S={},O=[],N=[],b,v,c,d=0,f=0,g,j,k,l,D=[];if(o===n||e(o,n)){return D;}s=s||function(V){if(typeof V!=="string"){V=JSON.stringify(V)||"";}return h(V);};for(var i=0;i<n.length;i++){v=s(n[i]);c=S[v];if(!c){c=S[v]={iNewCount:0,iOldCount:0};}c.iNewCount++;N[i]={symbol:c};}for(var i=0;i<o.length;i++){v=s(o[i]);c=S[v];if(!c){c=S[v]={iNewCount:0,iOldCount:0};}c.iOldCount++;c.iOldLine=i;O[i]={symbol:c};}for(var i=0;i<N.length;i++){c=N[i].symbol;if(c.iNewCount===1&&c.iOldCount===1){N[i].line=c.iOldLine;O[c.iOldLine].line=i;}}for(var i=0;i<N.length-1;i++){b=N[i].line;if(b!==undefined&&b<O.length-1){if(O[b+1].symbol===N[i+1].symbol){O[b+1].line=i+1;N[i+1].line=b+1;}}}for(var i=N.length-1;i>0;i--){b=N[i].line;if(b!==undefined&&b>0){if(O[b-1].symbol===N[i-1].symbol){O[b-1].line=i-1;N[i-1].line=b-1;}}}while(d<o.length||f<n.length){j=O[d]&&O[d].line;g=N[f]&&N[f].line;if(d<o.length&&(j===undefined||j<f)){D.push({index:f,type:"delete"});d++;}else if(f<n.length&&(g===undefined||g<d)){D.push({index:f,type:"insert"});f++;}else if(f===j){f++;d++;}else{l=j-f;k=g-d;if(l<=k){D.push({index:f,type:"insert"});f++;}else{D.push({index:f,type:"delete"});d++;}}}return D;};return a;});
