/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/now"],function(n){"use strict";var l={};l.Level={NONE:-1,FATAL:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4,TRACE:5,ALL:(5+1)};var d,L=[],m={'':l.Level.ERROR},o=null,b=false;function p(i,w){return("000"+String(i)).slice(-w);}function a(C){return(!C||isNaN(m[C]))?m['']:m[C];}function g(){if(!o){o={listeners:[],onLogEntry:function(e){for(var i=0;i<o.listeners.length;i++){if(o.listeners[i].onLogEntry){o.listeners[i].onLogEntry(e);}}},attach:function(l,e){if(e){o.listeners.push(e);if(e.onAttachToLog){e.onAttachToLog(l);}}},detach:function(l,e){for(var i=0;i<o.listeners.length;i++){if(o.listeners[i]===e){if(e.onDetachFromLog){e.onDetachFromLog(l);}o.listeners.splice(i,1);return;}}}};}return o;}l.fatal=function(M,D,C,s){c(l.Level.FATAL,M,D,C,s);};l.error=function(M,D,C,s){c(l.Level.ERROR,M,D,C,s);};l.warning=function(M,D,C,s){c(l.Level.WARNING,M,D,C,s);};l.info=function(M,D,C,s){c(l.Level.INFO,M,D,C,s);};l.debug=function(M,D,C,s){c(l.Level.DEBUG,M,D,C,s);};l.trace=function(M,D,C,s){c(l.Level.TRACE,M,D,C,s);};l.setLevel=function(i,C,_){C=C||d||'';if(!_||m[C]==null){m[C]=i;var B=[];Object.keys(l.Level).forEach(function(v,e){B[e]=v;});c(l.Level.INFO,"Changing log level "+(C?"for '"+C+"' ":"")+"to "+B[i],"","sap.base.log");}};l.getLevel=function(C){return a(C||d);};l.isLoggable=function(i,C){return(i==null?l.Level.DEBUG:i)<=a(C||d);};l.logSupportInfo=function(e){b=e;};function c(i,M,D,C,s){if(b){if(!s&&!C&&typeof D==="function"){s=D;D="";}if(!s&&typeof C==="function"){s=C;C="";}}C=C||d;if(i<=a(C)){var N=n(),e=new Date(N),f=Math.floor((N-Math.floor(N))*1000),h={time:p(e.getHours(),2)+":"+p(e.getMinutes(),2)+":"+p(e.getSeconds(),2)+"."+p(e.getMilliseconds(),3)+p(f,3),date:p(e.getFullYear(),4)+"-"+p(e.getMonth()+1,2)+"-"+p(e.getDate(),2),timestamp:N,level:i,message:String(M||""),details:String(D||""),component:String(C||"")};if(b&&typeof s==="function"){h.supportInfo=s();}L.push(h);if(o){o.onLogEntry(h);}if(console){var j=h.date+" "+h.time+" "+h.message+" - "+h.details+" "+h.component;switch(i){case l.Level.FATAL:case l.Level.ERROR:console.error(j);break;case l.Level.WARNING:console.warn(j);break;case l.Level.INFO:console.info?console.info(j):console.log(j);break;case l.Level.DEBUG:console.debug?console.debug(j):console.log(j);break;case l.Level.TRACE:console.trace?console.trace(j):console.log(j);break;}if(console.info&&h.supportInfo){console.info(h.supportInfo);}}return h;}}l.getLog=function(){return L.slice();};l.addLogListener=function(o){g().attach(this,o);};l.removeLogListener=function(o){g().detach(this,o);};return l;});
