/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/Device','sap/ui/xml/serializeXML'],function(D,s){"use strict";var p={};p.parse=function(x){var X;var P;var p=new DOMParser();try{X=p.parseFromString(x,"text/xml");}catch(e){P=this.getParseError();P.reason=e.message;X={};X.parseError=P;return X;}P=this.getParseError(X);if(P){if(!X.parseError){X.parseError=P;}}return X;};p.getParseError=function(d){var P={errorCode:-1,url:"",reason:"unknown error",srcText:"",line:-1,linepos:-1,filepos:-1};if(D.browser.msie&&d&&d.parseError&&d.parseError.errorCode!=0){return d.parseError;}if((D.browser.firefox||D.browser.edge)&&d&&d.documentElement&&d.documentElement.tagName=="parsererror"){var e=d.documentElement.firstChild.nodeValue,r=/XML Parsing Error: (.*)\nLocation: (.*)\nLine Number (\d+), Column (\d+):(.*)/;if(r.test(e)){P.reason=RegExp.$1;P.url=RegExp.$2;P.line=parseInt(RegExp.$3,10);P.linepos=parseInt(RegExp.$4,10);P.srcText=RegExp.$5;}return P;}if(D.browser.webkit&&d&&d.documentElement&&d.getElementsByTagName("parsererror").length>0){var e=s(d),r=/(error|warning) on line (\d+) at column (\d+): ([^<]*)\n/;if(r.test(e)){P.reason=RegExp.$4;P.url="";P.line=parseInt(RegExp.$2,10);P.linepos=parseInt(RegExp.$3,10);P.srcText="";P.type=RegExp.$1;}return P;}if(!d||!d.documentElement){return P;}return{errorCode:0};};return p;});
